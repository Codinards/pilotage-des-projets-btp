{# <div {{ attributes }}>
    <div class="row">
        <div class="col">
            <input data-model="debounce(1000)|search"  type="text" data-action="live#action" data-action-name="search()"> <span class="m-4">
                <select data-model="tag" data-action="live#action" data-action-name="tagFilter" name="tag" id="tag">
                    <option value=""></option>
                    {% for tag in this.tags %}
                        <option value="{{ tag.id }}">{{ tag.name }}</option>
                    {% endfor %}
                </select>
            </span> <span class="p-4">{{ this.count }}</span>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
                <table class="table table-striped">
                    <thead class="bg-secondary">
                        <tr>
                            {{ component('table_header', {
                                direction: this.orderDirection,
                                label: "Index",
                                name: 'id',
                                field: this.orderField,
                                visible: this.orderField == 'id',
                                status: this.status ?? 0
                            }) }}
                            {{ component('table_header', {
                                direction: this.orderDirection,
                                label: "Title",
                                name: 'title',
                                field: this.orderField,
                                visible: this.orderField == 'title',
                                status: this.status ?? 0
                            }) }}
                            {{ component('table_header', {
                                direction: this.orderDirection,
                                label: "Status",
                                name: 'status',
                                field: this.orderField,
                                visible: this.orderField == 'status',
                                status: this.status ?? 0
                            }) }}
                            {{ component('table_header', {
                                direction: this.orderDirection,
                                label: "Date",
                                name: 'createdAt',
                                field: this.orderField,
                                visible: this.orderField == 'createdAt',
                                status: this.status ?? 0
                            }) }}
                        </tr>
                    </thead>
                    <tbody>
                        {% for index, post in this.posts %}
                        <tr>
                            <td>{{ post.id}}</td>
                            <td>{{ post.title }}</td>
                            <td>
                                {{ post.status }}
                                <input data-model="checked" type="checkbox" id="{{ post.id }}" data-action="live#action" data-action-name="checkItem(id={{ post.id }})" {{ this.isChecked(post) }}>
                            </td>
                            <td>{{ post.createdAt | date('d/m/Y') }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
        </div>
    </div>
<hr>
</div> #}
{# #################################################################################### #}

<div class="row" {{ attributes }} >
    
        <div data-loading="addClass(show)" class="svg-loader">
            <svg class="svg-container" height="100" width="100" viewBox="0 0 100 100">
                <circle class="loader-svg bg" cx="50" cy="50" r="20">loading...</circle>
                <circle class="loader-svg animate" cx="50" cy="50" r="20">loading...</circle>
            </svg>
    </div>
    <div class="col-md-12 " style="font-size: 0.75rem;" >
        <table class="table table-striped table-bordered">
            <thead class="bg-secondary text-white">
                <tr class="text-center">
                    {# <th title="Total{{ this.count > 1 ? 's' : ''  }}: {{ this.count }}" class="text-success"> Total{{ this.count > 1 ? 's' : ''  }}: {{ this.count }}</th> #}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Number'),
                        name: 'number',
                        field: this.orderField,
                        visible: this.orderField == 'number',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Name'),
                        name: 'name',
                        field: this.orderField,
                        visible: this.orderField == 'name',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Cost'),
                        name: 'cost',
                        field: this.orderField,
                        visible: this.orderField == 'cost',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Type'),
                        name: 'type',
                        field: this.orderField,
                        visible: this.orderField == 'type',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Sector'),
                        name: 'sector',
                        field: this.orderField,
                        visible: this.orderField == 'sector',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Company'),
                        name: 'company',
                        field: this.orderField,
                        visible: this.orderField == 'company',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('StartAt'),
                        name: 'startAt',
                        field: this.orderField,
                        visible: this.orderField == 'startAt',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('Présenté le'),
                        name: 'presentedAt',
                        field: this.orderField,
                        visible: this.orderField == 'presentedAt',
                    }) }}
                    {{ component('table_header', {
                        direction: this.orderDirection,
                        label: __U('fin projet'),
                        name: 'endAt',
                        field: this.orderField,
                        visible: this.orderField == 'endAt',
                    }) }}
                </tr>
                <tr>
                    <td title="Total{{ this.count > 1 ? 's' : ''  }}: {{ this.count }}" class="text-success"> Total{{ this.count > 1 ? 's' : ''  }}: {{ this.count }} </td>
                    {# <td title="Filtres des projects">Filtres <i class="fa fa-filter"></i></td> #}
                    <td>
                        <input data-model="debounce(1000)|search"  type="text" data-action="live#action" data-action-name="search()"> <span class="m-4">
                    </td>
                    <td class="text-right">
                        <label for="" style="min-width: max-content;">
                            <input class="mr-0" style="max-width: 7rem;" type="number" data-model="debounce(1000)|cost" data-action="live#action" data-action-name="costFilter" name="cost" id="cost">
                            <button title="{{ this.costDirection == '>=' ? 'Supérieur à' : 'Inférieur à' }}" class="ml-0 btn-dir" type="submit" style="padding:0.09rem;border-color:inherit;" data-model="costDirection" data-action="live#action" data-action-name="toggleCostDirection">{{ this.costDirection }}</button>
                        </label>                      
                    </td>
                    <td>
                        <select data-model="type" data-action="live#action" data-action-name="typeFilter" name="type" id="type">
                            <option value=""></option>
                            {% for type in this.types %}
                                <option value="{{ type.id }}">{{ type.name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td>
                        <select data-model="sector" data-action="live#action" data-action-name="sectorFilter" name="sector" id="sector">
                            <option value=""></option>
                            {% for sector in this.sectors %}
                                <option value="{{ sector.id }}">{{ sector.name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td class="text-right" style="max-width: max-content;">
                        <select data-model="company" data-action="live#action" data-action-name="companyFilter" name="company" id="company">
                            <option value=""></option>
                            {% for company in this.companies %}
                                <option value="{{ company.id }}">{{ company.name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td>
                        <label for="" style="min-width: max-content;">
                            <input class="mr-0" style="max-width: 6rem;" type="date" data-model="debounce(1000)|startAt" data-action="live#action" data-action-name="startAtFilter" name="startAt" id="startAt">
                            <button title="{{ this.startAtDirection == '>=' ? 'Après le' : 'Avant le' }}" class="ml-0 btn-dir" type="submit" style="padding:0.09rem;border-color:inherit;" data-model="startAtDirection" data-action="live#action" data-action-name="toggleStartAtDirection">{{ this.startAtDirection }}</button>
                        </label>    
                    </td>
                    <td>
                        <label for="" style="min-width: max-content;">
                            <input class="mr-0" style="max-width: 6rem;" type="date" data-model="debounce(1000)|presentedAt" data-action="live#action" data-action-name="presentedAtFilter" name="presentedAt" id="presentedAt">
                            <button title="{{ this.presentedAtDirection == '>=' ? 'Après le' : 'Avant le' }}" class="ml-0 btn-dir" type="submit" style="padding:0.09rem;border-color:inherit;" data-model="presentedAtDirection" data-action="live#action" data-action-name="togglePresentedAtDirection">{{ this.presentedAtDirection }}</button>
                        </label> 
                    </td>
                    <td>
                        <label for="" style="min-width: max-content;">
                            <input class="mr-0" style="max-width: 6rem;" type="date" data-model="debounce(1000)|endAt" data-action="live#action" data-action-name="endAtFilter" name="endAt" id="endAt">
                            <button title="{{ this.endAtDirection == '>=' ? 'Après le' : 'Avant le' }}" class="ml-0 btn-dir" type="submit" style="padding:0.09rem;border-color:inherit;" data-model="endAtDirection" data-action="live#action" data-action-name="toggleEndAtDirection">{{ this.endAtDirection }}</button>
                        </label> 
                    </td>
                </tr>
            </thead>
            <tbody>
                {% for project in projects %}
                <tr class="clickable" title="Cliquer pour voir les détails" data-url="{{ path('app_project_show', {'id': project.id, _locale: app.request.locale ?? app.request.defaultLocale}) }}" style="cursor: pointer;">
                    <td>{{ project.number }}</td>
                    <td>{{ project.name }}</td>
                    <td class="text-right" style="max-width: max-content;">{{ project.cost | money_format }}</td>
                    <td class="text-left" style="max-width: max-content;">{{ project.type }}</td>
                    <td class="text-left" style="max-width: max-content;">{{ project.sector }}</td>
                    <td class="text-left" style="max-width: max-content;">{{ project.company }}</td>
                    <td class="text-right">{{ project.startAt ? project.startAt|date('d-m-Y') : '' }}</td>
                    <td class="text-right {{ project.presentedAt ? '' : 'text-danger' }}">{{ project.presentedAt ? project.presentedAt |date('d-m-Y') : 'Non présenté' }}</td>
                    <td class="text-right {{ project.endAt ? '' : 'text-danger' }}">{{ project.endAt ? project.endAt|date('d-m-Y') : 'Non livré' }}</td>
                    {# <td>
                        <a href="{{ path('app_project_show', {'id': project.id, _locale: app.request.locale ?? app.request.defaultLocale}) }}" class="btn btn-info">{{ __('show') }}</a>
                        <a href="{{ path('app_project_edit', {'id': project.id, _locale: app.request.locale ?? app.request.defaultLocale}) }}" class="btn btn-success">{{ __('edit') }}</a>
                    </td> #}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>